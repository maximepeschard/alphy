<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>com.maximepeschard.alphy</string>
	<key>category</key>
	<string>Internet</string>
	<key>connections</key>
	<dict>
		<key>0B28FA33-3F6E-4DD0-AA73-8AEA4A440463</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>33E88FF3-F784-4274-B60C-C95F20A4ECFB</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>1D2AFB4A-CFA1-43B0-BE8E-841D0C613D9F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>66A784F9-86F2-489C-908E-E1AAD3F53D18</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>2DE98864-43A0-42E7-8BAA-BD7E89717793</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>9C5392C1-4095-42FB-8D99-DD1CD02B108E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>33E88FF3-F784-4274-B60C-C95F20A4ECFB</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>60A17A9C-4542-4844-B022-73B452DFFFAB</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>547FC2D5-58AC-4253-8DA0-212E477D89CA</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>D7A58D81-4421-4F09-A0E5-EC6783361887</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>54BF2CAA-0ABF-42D4-9A36-AE9AB4EB0363</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>1D2AFB4A-CFA1-43B0-BE8E-841D0C613D9F</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>60A17A9C-4542-4844-B022-73B452DFFFAB</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>685569A7-E3E8-4183-BE72-4D405FCEF622</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>685569A7-E3E8-4183-BE72-4D405FCEF622</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>54BF2CAA-0ABF-42D4-9A36-AE9AB4EB0363</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>D6F19735-94D1-4B41-8612-0B47EBE08F71</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>89A43A1A-1C31-43A7-93A2-5137FFEBBD8C</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>D47BB821-1FB0-4066-8E55-538B2657CB9C</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>9C5392C1-4095-42FB-8D99-DD1CD02B108E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>A24547AB-7D09-45F9-96FD-FE9ABBF1F27C</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D47BB821-1FB0-4066-8E55-538B2657CB9C</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>60A17A9C-4542-4844-B022-73B452DFFFAB</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D53C9F14-F4D5-42A8-A109-D409F120EA87</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>0B28FA33-3F6E-4DD0-AA73-8AEA4A440463</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>547FC2D5-58AC-4253-8DA0-212E477D89CA</string>
				<key>modifiers</key>
				<integer>1048576</integer>
				<key>modifiersubtext</key>
				<string>Giphy URL</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>89A43A1A-1C31-43A7-93A2-5137FFEBBD8C</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string>Open in browser</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>2DE98864-43A0-42E7-8BAA-BD7E89717793</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D6F19735-94D1-4B41-8612-0B47EBE08F71</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>A24547AB-7D09-45F9-96FD-FE9ABBF1F27C</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D7A58D81-4421-4F09-A0E5-EC6783361887</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>60A17A9C-4542-4844-B022-73B452DFFFAB</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>Maxime Peschard</string>
	<key>description</key>
	<string>A workflow to search for GIFs on Giphy</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>Alphy</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<false/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>transient</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>1D2AFB4A-CFA1-43B0-BE8E-841D0C613D9F</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<false/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string>{query}</string>
				<key>title</key>
				<string>GIF URL copied to clipboard</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>66A784F9-86F2-489C-908E-E1AAD3F53D18</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>variables</key>
				<dict>
					<key>action</key>
					<string>GIF_URL</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>33E88FF3-F784-4274-B60C-C95F20A4ECFB</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{query}</string>
				<key>matchcasesensitive</key>
				<false/>
				<key>matchmode</key>
				<integer>2</integer>
				<key>matchstring</key>
				<string>^http.*</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>0B28FA33-3F6E-4DD0-AA73-8AEA4A440463</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{var:action}</string>
				<key>matchcasesensitive</key>
				<true/>
				<key>matchmode</key>
				<integer>1</integer>
				<key>matchstring</key>
				<string>BROWSE</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>54BF2CAA-0ABF-42D4-9A36-AE9AB4EB0363</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>argumenttype</key>
				<integer>0</integer>
				<key>escaping</key>
				<integer>102</integer>
				<key>keyword</key>
				<string>gif</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<false/>
				<key>queuedelaymode</key>
				<integer>1</integer>
				<key>queuemode</key>
				<integer>2</integer>
				<key>runningsubtext</key>
				<string>Searching GIFs for '{query}'...</string>
				<key>script</key>
				<string>/usr/bin/python alphy_search.py "{query}"</string>
				<key>scriptargtype</key>
				<integer>0</integer>
				<key>scriptfile</key>
				<string></string>
				<key>subtext</key>
				<string>Search GIFs on giphy.com</string>
				<key>title</key>
				<string>Search on Giphy</string>
				<key>type</key>
				<integer>0</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>D53C9F14-F4D5-42A8-A109-D409F120EA87</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>/usr/bin/python alphy_extractid.py "{query}"</string>
				<key>scriptargtype</key>
				<integer>0</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>60A17A9C-4542-4844-B022-73B452DFFFAB</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>/usr/bin/python alphy_get.py "{query}"</string>
				<key>scriptargtype</key>
				<integer>0</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>685569A7-E3E8-4183-BE72-4D405FCEF622</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{query}</string>
				<key>matchcasesensitive</key>
				<false/>
				<key>matchmode</key>
				<integer>2</integer>
				<key>matchstring</key>
				<string>^http.*</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>547FC2D5-58AC-4253-8DA0-212E477D89CA</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>variables</key>
				<dict>
					<key>action</key>
					<string>GIPHY_URL</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>D7A58D81-4421-4F09-A0E5-EC6783361887</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>browser</key>
				<string></string>
				<key>spaces</key>
				<string></string>
				<key>url</key>
				<string>{query}</string>
				<key>utf8</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.openurl</string>
			<key>uid</key>
			<string>A24547AB-7D09-45F9-96FD-FE9ABBF1F27C</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{var:action}</string>
				<key>matchcasesensitive</key>
				<true/>
				<key>matchmode</key>
				<integer>0</integer>
				<key>matchstring</key>
				<string>BROWSE</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>D6F19735-94D1-4B41-8612-0B47EBE08F71</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>variables</key>
				<dict>
					<key>action</key>
					<string>BROWSE</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>D47BB821-1FB0-4066-8E55-538B2657CB9C</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{query}</string>
				<key>matchcasesensitive</key>
				<false/>
				<key>matchmode</key>
				<integer>2</integer>
				<key>matchstring</key>
				<string>^http.*</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>89A43A1A-1C31-43A7-93A2-5137FFEBBD8C</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>matchmode</key>
				<integer>0</integer>
				<key>matchstring</key>
				<string>searchongiphy:</string>
				<key>replacestring</key>
				<string>https://giphy.com/search/</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.replace</string>
			<key>uid</key>
			<string>9C5392C1-4095-42FB-8D99-DD1CD02B108E</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>inputstring</key>
				<string>{query}</string>
				<key>matchcasesensitive</key>
				<false/>
				<key>matchmode</key>
				<integer>2</integer>
				<key>matchstring</key>
				<string>searchongiphy:.+</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.filter</string>
			<key>uid</key>
			<string>2DE98864-43A0-42E7-8BAA-BD7E89717793</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>## Usage

Fire up the workflow with the keyword `gif` followed by your search query. Once the list is filled with results, the following actions are available for each item :
* &lt;shift&gt; will open a Quick Look window showing the GIF (pressing
  &lt;shift&gt; again, &lt;esc&gt; or &lt;space&gt; will close it),
* &lt;enter&gt; will copy the direct URL of the GIF file (eg.
  http://media3.giphy.com/media/l41YwWrjEhTGpE3zG/giphy.gif),
* &lt;cmd&gt;+&lt;enter&gt; will instead copy the Giphy URL of the GIF (eg.
  http://giphy.com/gifs/siliconvalleyhbo-l41YwWrjEhTGpE3zG),
* &lt;alt&gt;+&lt;enter&gt; will open the GIF on Giphy.

An extra action is always displayed at the bottom to open the current search on Giphy in the default browser.


## Advanced usage

### Keyword

The default keyword is `gif` (easy to remember), but can easily be changed by going to the Workflows tab of the Alfred settings, clicking the workflow, double-clicking the (first) 'Script Filter' action and typing the desired keyword.

### Search limit

By default, the search is limited to the first 8 results. However, this setting can be changed by going to the workflow settings (following the above directions), toggling the 'Workflow variables' pane by clicking the [x] icon and changing the `GIPHY_SEARCH_LIMIT` variable.

### Cache management

This workflow makes use of Alfred cache to store some search results and avoid repeated and unnecessary calls to Giphy API. To clear the cache, just type the following sequence :

`gif :delcache`</string>
	<key>uidata</key>
	<dict>
		<key>0B28FA33-3F6E-4DD0-AA73-8AEA4A440463</key>
		<dict>
			<key>note</key>
			<string>Regular search action filter</string>
			<key>xpos</key>
			<integer>250</integer>
			<key>ypos</key>
			<integer>100</integer>
		</dict>
		<key>1D2AFB4A-CFA1-43B0-BE8E-841D0C613D9F</key>
		<dict>
			<key>xpos</key>
			<integer>890</integer>
			<key>ypos</key>
			<integer>80</integer>
		</dict>
		<key>2DE98864-43A0-42E7-8BAA-BD7E89717793</key>
		<dict>
			<key>note</key>
			<string>Fallback action filter</string>
			<key>xpos</key>
			<integer>250</integer>
			<key>ypos</key>
			<integer>410</integer>
		</dict>
		<key>33E88FF3-F784-4274-B60C-C95F20A4ECFB</key>
		<dict>
			<key>note</key>
			<string>GIF URL</string>
			<key>xpos</key>
			<integer>360</integer>
			<key>ypos</key>
			<integer>100</integer>
		</dict>
		<key>547FC2D5-58AC-4253-8DA0-212E477D89CA</key>
		<dict>
			<key>note</key>
			<string>Regular search action filter</string>
			<key>xpos</key>
			<integer>250</integer>
			<key>ypos</key>
			<integer>190</integer>
		</dict>
		<key>54BF2CAA-0ABF-42D4-9A36-AE9AB4EB0363</key>
		<dict>
			<key>note</key>
			<string>URL to clipboard</string>
			<key>xpos</key>
			<integer>820</integer>
			<key>ypos</key>
			<integer>110</integer>
		</dict>
		<key>60A17A9C-4542-4844-B022-73B452DFFFAB</key>
		<dict>
			<key>note</key>
			<string>Extract ID from Embed URL</string>
			<key>xpos</key>
			<integer>500</integer>
			<key>ypos</key>
			<integer>160</integer>
		</dict>
		<key>66A784F9-86F2-489C-908E-E1AAD3F53D18</key>
		<dict>
			<key>xpos</key>
			<integer>1020</integer>
			<key>ypos</key>
			<integer>80</integer>
		</dict>
		<key>685569A7-E3E8-4183-BE72-4D405FCEF622</key>
		<dict>
			<key>note</key>
			<string>Get desired URL</string>
			<key>xpos</key>
			<integer>650</integer>
			<key>ypos</key>
			<integer>160</integer>
		</dict>
		<key>89A43A1A-1C31-43A7-93A2-5137FFEBBD8C</key>
		<dict>
			<key>note</key>
			<string>Regular search action filter</string>
			<key>xpos</key>
			<integer>250</integer>
			<key>ypos</key>
			<integer>280</integer>
		</dict>
		<key>9C5392C1-4095-42FB-8D99-DD1CD02B108E</key>
		<dict>
			<key>note</key>
			<string>Build Giphy search URL</string>
			<key>xpos</key>
			<integer>760</integer>
			<key>ypos</key>
			<integer>410</integer>
		</dict>
		<key>A24547AB-7D09-45F9-96FD-FE9ABBF1F27C</key>
		<dict>
			<key>xpos</key>
			<integer>960</integer>
			<key>ypos</key>
			<integer>240</integer>
		</dict>
		<key>D47BB821-1FB0-4066-8E55-538B2657CB9C</key>
		<dict>
			<key>note</key>
			<string>Open in browser</string>
			<key>xpos</key>
			<integer>360</integer>
			<key>ypos</key>
			<integer>280</integer>
		</dict>
		<key>D53C9F14-F4D5-42A8-A109-D409F120EA87</key>
		<dict>
			<key>note</key>
			<string>Search for GIFs on Giphy</string>
			<key>xpos</key>
			<integer>10</integer>
			<key>ypos</key>
			<integer>160</integer>
		</dict>
		<key>D6F19735-94D1-4B41-8612-0B47EBE08F71</key>
		<dict>
			<key>note</key>
			<string>Open in browser</string>
			<key>xpos</key>
			<integer>820</integer>
			<key>ypos</key>
			<integer>270</integer>
		</dict>
		<key>D7A58D81-4421-4F09-A0E5-EC6783361887</key>
		<dict>
			<key>note</key>
			<string>Giphy URL</string>
			<key>xpos</key>
			<integer>360</integer>
			<key>ypos</key>
			<integer>190</integer>
		</dict>
	</dict>
	<key>variables</key>
	<dict>
		<key>GIPHY_SEARCH_LIMIT</key>
		<string>8</string>
	</dict>
	<key>version</key>
	<string>1.0.0</string>
	<key>webaddress</key>
	<string>https://maximepeschard.github.io</string>
</dict>
</plist>
